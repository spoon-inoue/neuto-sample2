(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function e(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerpolicy&&(r.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?r.credentials="include":s.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(s){if(s.ep)return;s.ep=!0;const r=e(s);fetch(s.href,r)}})();var f=Object.defineProperty,v=(i,t,e)=>t in i?f(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e,n=(i,t,e)=>(v(i,typeof t!="symbol"?t+"":t,e),e);const y=()=>!window.matchMedia("(pointer: fine) and (hover: hover)").matches;function h(i){return 1-Math.pow(1-i,3)}function g(i,t,e){return i+(t-i)*e}function p(i){const t=typeof i=="string"?document.querySelector(i):i instanceof Element?i:null;if(!(t instanceof HTMLElement))throw new TypeError(`${i} is invalid value as HTMLElement for Neuto wrapper.`);return t}function S(i,t){if(t===0)return i;let e;return(...o)=>{window.clearTimeout(e),e=window.setTimeout(()=>i(...o),t)}}class Y{constructor(t){n(this,"rafId",null),n(this,"startTime"),this.onProgress=t}play({duration:t=500,ease:e=h}={}){return new Promise(o=>{const s=r=>{this.startTime||(this.startTime=r);const l=r-this.startTime;if(l<t){const c=e(l/t);this.onProgress(c),this.rafId=requestAnimationFrame(s);return}else return this.onProgress(1),o()};this.rafId=requestAnimationFrame(s)})}stop(){this.rafId!=null&&cancelAnimationFrame(this.rafId)}}async function w({onProgress:i,duration:t=500,ease:e=h,onCompleteOrStop:o}){const s=new Y(i),r=["wheel","mousedown","touchstart"],l=()=>{a(),s.stop(),o==null||o()},c=()=>{r.forEach(d=>{window.addEventListener(d,l)})},a=()=>{r.forEach(d=>{window.removeEventListener(d,l)})};c(),await s.play({duration:t,ease:e}),a(),o==null||o()}const u=16,m={position:"fixed",width:"100%",height:"100%",top:0,left:0};class E extends EventTarget{constructor({wrapper:t=document.querySelector(".neuto-wrapper"),content:e=document.querySelector(".neuto-content"),intencity:o=.1,autoUpdateLayoutDebounceWait:s=200}={}){super(),n(this,"scrollY",window.scrollY),n(this,"nativeScrollY",window.scrollY),n(this,"tickerRafId"),n(this,"elapsed",0),n(this,"delta",u),n(this,"resizeObserver"),n(this,"wrapper"),n(this,"content"),n(this,"isPaused",!1),n(this,"intencity"),n(this,"isTranslating",!1),n(this,"isSmoothScrolling",!1),n(this,"isStyled",!1),n(this,"height",this.calcDocumentHeight()),n(this,"handleScroll",()=>{if(this.isPaused){window.scrollTo({top:this.nativeScrollY});return}this.nativeScrollY=window.scrollY}),n(this,"handleFocusIn",r=>{if(!document.querySelector(":focus-visible"))return;const{target:l}=r;if(l instanceof HTMLElement){const{top:c,bottom:a}=l.getBoundingClientRect();if(c>=0&&a<=window.innerHeight)return;this.scrollTo(this.scrollY+c)}}),this.intencity=o,this.wrapper=p(t),this.content=p(e),this.init(),this.initAutoUpdateLayout(s)}init(){this.forceStyles(),this.tick(this.elapsed),window.addEventListener("focusin",this.handleFocusIn),window.addEventListener("scroll",this.handleScroll)}forceStyles(){const t=document.createElement("style");document.head.appendChild(t);const e="neuto-wrapper";this.wrapper.classList.add(e);const o=t.sheet;o==null||o.insertRule(`.${e} { overflow: hidden !important; }`,0)}activateStyles(){this.isStyled||(this.isStyled=!0,document.body.style.height=`${this.height}px`,Object.assign(this.wrapper.style,m))}deactivateStyles(){!this.isStyled||(this.isStyled=!1,document.body.style.removeProperty("height"),Object.keys(m).forEach(t=>{this.wrapper.style.removeProperty(t)}),this.content.style.removeProperty("translate"))}calcDocumentHeight(){const{top:t,height:e}=document.body.getBoundingClientRect();return this.scrollY+t+e}initAutoUpdateLayout(t){this.resizeObserver=new ResizeObserver(S(()=>{this.height=this.calcDocumentHeight()},t)),this.resizeObserver.observe(this.content)}tick(t){this.delta=t-this.elapsed||u,this.elapsed=t;const e=this.scrollY,o=1-Math.pow(1-this.intencity,this.delta/u);this.scrollY=Math.floor(g(this.scrollY,this.nativeScrollY,o)*100)/100,Math.abs(this.scrollY-this.nativeScrollY)<.5&&(this.scrollY=this.nativeScrollY),this.isTranslating=this.isSmoothScrolling||e!==this.scrollY,this.isTranslating?(this.activateStyles(),this.content.style.translate=`0 -${this.scrollY}px`,this.dispatchEvent(new CustomEvent("scroll",{detail:this.scrollY}))):this.deactivateStyles(),this.tickerRafId=requestAnimationFrame(s=>{this.tick(s)})}scrollTo(t,{duration:e=0,ease:o=h}={}){const s=Math.max(t,0);if(e===0)return window.scrollTo({top:s}),this.scrollY!==s&&(this.scrollY=s),s;const r=this.scrollY,l=s-r;return this.isSmoothScrolling=!0,w({onProgress:c=>{this.scrollTo(r+l*c)},duration:e,ease:o,onCompleteOrStop:()=>{this.isSmoothScrolling=!1}})}paused(t){this.isPaused=t}dispose(){var t;(t=this.resizeObserver)==null||t.disconnect(),window.removeEventListener("scroll",this.handleScroll),window.removeEventListener("focusin",this.handleFocusIn),this.tickerRafId!=null&&cancelAnimationFrame(this.tickerRafId),Object.assign(this.wrapper.style,{position:"",width:"",height:"",top:"",left:""}),this.content.style.removeProperty("translate")}}class T extends EventTarget{constructor(){super(),n(this,"scrollY",window.scrollY),n(this,"isPaused",!1),n(this,"handleScroll",()=>{if(this.isPaused){window.scrollTo({top:this.scrollY});return}this.scrollY=window.scrollY,this.dispatchEvent(new CustomEvent("scroll",{detail:this.scrollY}))}),window.addEventListener("scroll",this.handleScroll)}scrollTo(t,{duration:e=0,ease:o=h}={}){if(e===0)return window.scrollTo({top:t}),t;const s=this.scrollY,r=t-s;return w({onProgress:l=>{window.scrollTo({top:s+r*l})},duration:e,ease:o})}paused(t){this.isPaused=t}dispose(){window.removeEventListener("scroll",this.handleScroll)}}class b{constructor(t){n(this,"scroller"),n(this,"isMomentumScrolling"),this.isMomentumScrolling=!y(),this.scroller=this.isMomentumScrolling?new E(t):new T}get scrollY(){return this.scroller.scrollY}get isPaused(){return this.scroller.isPaused}get _internalScroller(){return this.scroller}dispose(){this.scroller.dispose()}addEventListener(t,e,o){this.scroller.addEventListener(t,e,o)}removeEventListener(t,e,o){this.scroller.removeEventListener(t,e,o)}scrollTo(t,e){return this.scroller.scrollTo(t,e)}paused(t){this.scroller.paused(t)}}new b;
